# 面试计划

## 腾讯

- [x] 统计腾讯面试方向
- [x] 统计腾讯面试题(社招)
- [x] 自我介绍
    - 我叫詹光, 计算机本科专业, 工作4年, 主要做PHP后端开发, 熟悉 PHP, MySQL, Swoole, 平时常用 Laravel 框架在 lnmp 环境下开发, 
    也了解 Golang, Python 等语言, 热爱编码, 在工作中常常会考虑开发流程的优化, 在业余常常会去学习陌生的领域, 对开发过程的方方面面都会
    想着了解其原理.
- 为什么离开上一家公司
    - 进入大厂始终是我的目标，从第一次到腾讯大道这边来的第一次我就想着有一天能够在这边上班，后面我买房子在这边也是准备在这边长久的发展。
    - 希望能有更好的平台扩展我的技能树，获得长足稳定的发展。
      
- 为什么频繁跳槽？
      - 关于这个，其实我本人是一个很想稳定下来，踏踏实实的人，所以我一直在努力提升自己，找一个更好的平台，寻求长足稳定的发展。当然我很感谢我之前的每一家公司，每一次都学到了很多，例如：在上海第一家公司中有幸作为管理给我提供了丰富的管理能力和协作能力，在之后的公司中提供了充足的高并发实践。这也为我现在有能力，有信心面试贵公司打下了很好的基础。
      - 每一步操作都在自己的职业规划范围内. 我的想法是这样的, 我对于技术底层实现上很有兴趣, 贵公司正好在 *** 方面很有优势, 我计划在 半年到一年 成为这方面的专家. 对于架构方面上了解的知识面不够宽阔, 希望在未来 3 年中能对架构知识上有丰富的实践经历, 能将自己的想法应用到系统中. 这只是我目前的计划, 当然我知道计划跟不上变化, 如果业务和团队有变化, 我也会改变角色规划.
- [] 整理简历
    - [] 项目介绍
        - 微桌绩效结算系统
            - 介绍
                - 微桌绩效结算系统是一个B2C系统, 主要为企业向个人发放绩效工资功能, 支持多种付款方式, 在项目中使用 Laravel 框架, 适配了 Swoole 来提高性能,
                数据库使用 MySQL, 缓存使用 Redis, 消息队列使用 RabbitMQ, 除了 web 页面直接提供给客户操作外, 还提供 api 给其他有技术团队的
                企业对接使用, 这方面对于并发的要求较高. 然后因为使用了 swoole 的原因, 在多进程下对于 MySQL 连接与事务的熟悉程度要求也高.
            - 找到项目的亮点处
                - swoole 接入 laravel 提高并发
                - RabbitMQ 消息队列异步处理任务, 达到削峰等目的
            - 项目复杂处
                - swoole 接入 laravel 提高并发, 在这里遇到了多进程环境下使用同一个mysql连接, 不同进程使用这个连接开启事务导致的事务混乱问题,
                 现象为在swoole不重启时, 有些事务执行了被其它事务已经commit了, 这个事务的操作就没有被提交, 也没有结束事务, 导致了一直在事务中, 
                 只有这个进程能看到自己的数据, 实际数据库表或者其它进程都查不到数据. 后面通过查文档方式, 了解到 Laravel 在多进程时对于每一个worker
                 进程都需要重新创建一个mysql连接, 避免上面说到的问题. 还有一点是 Laravel 默认是使用自己的方式显示嵌套事务, 所以在多进程中发生嵌套事务时,
                 框架并不会报错, Laravel 一直是单进程的框架, 希望将来会向多进程进发, 多考虑考虑多进程情况下的设计.
                - 提供给其它企业的API, 遇到了性能瓶颈的问题. 最开始API第一版的时候, 打款直接调用的web上的打款模块, 那边的模块中本质上大部分功能是同步执行的, 
                也就是说, 现在在swoole的worker中, 一个打款未完成会阻塞下一个打款的处理. 随后的做法是使用 RabbitMQ 消息队列, 用 swoole 
                启动了多个消费者进程并给master进程管理, 在这些消费者进程中执行后续的全部打款操作. 这样一来的话, 接口只负责校验数据, 入库, 投递消息到mq, 
                极大的提高了接口的并发能力, 从原来的4进程100/s的并发, 提高到了1000/s的并发, 并且用户体验更好, 提交打款数据后更快的返回, 
                对系统来说将功能模块解耦, 消费者不关心消息从何而来, 只负责消费掉消息. 
            - 量化指标, 提高了接口的性能
                - 使用 swoole 代替 php-fpm, 让php代码常驻内存, 极大了提高了单次请求的响应速度, 从 100ms 降低到了 30ms 左右
                - 使用 swoole master 子进程 + swoole 定时器替代了 linux 的 schedule, 让定时任务也能在 swoole 环境下进行, 完成了
                编码的统一性
                - 大量使用单元测试和功能测试, 使每一次的版本迭代能够顺利进行, 降低测试的工作量, 增加开发人员的开发校验效率
                - 使用 RabbitMQ 消息队列, 编写 mq 版本的 laravel 任务处理器, 从laravel任务处理器切换到mq任务处理器几乎0成本. 使用
                mq 达到耗时任务异步处理, 高峰打款请求能够排队执行, 对其它业务几乎无影响
            - 赋能整个团队. 开发工具提高了整体的工作效率, 创造了价值
                - 开发 RabbitMQ 队列Laravel扩展包, 使任务能够以Laravel官方的调用方式来便捷的投递与消费消息
                - 开发用户账号中心认证系统, 公司内多个项目均调用认证系统来录入或查询用户及用户账号等信息. 将复杂的认证和查询逻辑均放在这个独立的
                系统中, 其它系统只需要调用提供的简单api即可, 极大了的减少了的多个系统间的代码重复率, 也将公司的关键数据统一了起来.
            - 难点, 挑战, 职责, 核心技术
                - 系统并发量问题
                    - 使用 swoole 与 Laravel 结合, 初始是使用 Laravel 开发的, 基于php-fpm环境下运行, 后面考虑到并发的问题, 以及开发成本问题,
                    选择了结合 swoole Laravel 结合, 提高 Laravel 的并发能力, 也可以使用到 swoole 提供的丰富的api
                    - 使用 RabbitMQ 来提高的系统的并发量, 使任务能够异步执行, 并且在请求高峰情况下能够使服务器保持在一个稳定的情况下.
                - 系统复杂度问题
                    - 5种及更多的打款方式, 用接口的方式统一不同打款sdk的调用, 使用服务提供者来定义统一的配置, 提供统一的访问点, 不同打款的请求
                    查询,通知,在容器中可以获取到一致的操作, 大大提高了同事们的工作效率
            - 项目瓶颈在哪? 就这个项目来说, 如何实现高可用
                - 当前来看项目的瓶颈
                    - 提高 mq 消费者进程的数量, 当前是单进程执行的, 是由于在单个打款任务中, 数据库事务会锁定很多行数据, 假如多个 mq 进程来
                    执行事务的话, 很可能会有死锁的问题发生. 现在的设计思路是, 拆分细化打款任务为多个互不影响的子任务, 在这项子任务上设置事务,
                    减少锁的时长和竞争, 使事务不容易陷入到死锁当中. 
            - 在上次工作中，哪些项目最有成就感，最有挑战？
            - 最有挑战的一个工作，遇到的困难，采取了什么方式，取得了什么结果
            - 遇到的最难的项目？难在哪里？怎么解决的？得到了什么收获？
            - 基础的一点的技术接触过什么？感觉枯燥么？碰到什么困难？举一个最难的例子
            - 举例两个做的比较好的项目
    - [] 项目难点讲解
    - [] 做过最有特色的项目
    
## 面试前准备    

- 公司文化技术等了解
- 面试中可能遇到的问题回顾
- 算法题回顾
- 概念题回顾

## 公司记录

### 武汉明源云科技有限公司

- 位置: 光谷软件园
- 行业: 房地产互联网提供商
- 投递时间: 2020/3/15

### 中移上海产业研究院

- 关注

### 掌游科技

- 位置: 武汉市 洪山区 创意天地05办公楼 11层
- 行业: 手游
- 投递时间: 2020/3/15


### 第一秒电商

- 电商
- 时间: 2020/3/15

### 黑桃互动

- 游戏
- 时间: 2020/3/15

### 百家云

- BOSS
- 2020/3/30

### 智线云 (ZingFront)

- BOSS / 拉钩
- 2020/3/30
- 反馈: 2020/4/1
- 广告/创作
- 问题
    - 在官网上了解到业务涉及多种类型, 那么 PHP 在公司中处于什么样的角色? 会用来实现哪些业务?
    - 最近看到微信朋友圈中有上线互动广告, 比如说 vivo 的滑动广告手势, 解锁后续剧情. 这种类型的创意, 与公司的互动广告, 有什么异同之处?
    - 假如贵公司, 需要提前对哪些方面知识做准备?
- 面试中遇到的难的问题
    - 数据库表索引的设置问题
    - Nginx 完整访问流程问题
    - 栈如何排序
    - 突出项目的介绍不够好
    - 有点紧张
    - 页面中完整 url 用 PHP 方式解析
    - PHP 瓶颈和 MySQL 瓶颈怎么测试
    - 数据库查询慢怎么解决
    - 每日20万的日志入数据库, 怎么设计表结构
    - 系统安全性怎么考虑设计的
    - 架构设计怎么实践的
    - 用了哪些设计模式
    - 讲讲系统中的一张表的设计 (索引和表结构)
    - 国内数据库迁移到国外, 不能影响当前的业务.

### 深圳市星际无限科技有限公司技术部招聘

- 拉钩
- 2020/3/30

### 腾讯

- 拉钩: (腾讯云后台开发工程师, 智慧教育后台开发工程师)
- 2020/04/09

### 小米

- 拉钩: (PHP研发工程师)
- 2020/04/09
